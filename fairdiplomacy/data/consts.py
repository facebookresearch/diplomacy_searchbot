import diplomacy

MAP = diplomacy.Map()

# these are the 22 supply centers that should have units on turn 0
PROPER_START_TERR_IDS = {
    11,
    12,
    15,
    2,
    22,
    23,
    24,
    27,
    29,
    3,
    31,
    37,
    38,
    41,
    46,
    47,
    49,
    6,
    72,
    73,
    74,
    79,
}

# SELECT name FROM wD_Territories WHERE mapID=1"
FULL_NAMES = [
    "Adriatic Sea",
    "Aegean Sea",
    "Albania",
    "Ankara",
    "Apulia",
    "Armenia",
    "Baltic Sea",
    "Barents Sea",
    "Belgium",
    "Berlin",
    "Black Sea",
    "Bohemia",
    "Brest",
    "Budapest",
    "Bulgaria (North Coast)",
    "Bulgaria (South Coast)",
    "Bulgaria",
    "Burgundy",
    "Clyde",
    "Constantinople",
    "Denmark",
    "Eastern Mediterranean",
    "Edinburgh",
    "English Channel",
    "Finland",
    "Galicia",
    "Gascony",
    "Greece",
    "Gulf of Bothnia",
    "Gulf of Lyons",
    "Heligoland Bight",
    "Holland",
    "Ionian Sea",
    "Irish Sea",
    "Kiel",
    "Liverpool",
    "Livonia",
    "London",
    "Marseilles",
    "Mid-Atlantic Ocean",
    "Moscow",
    "Munich",
    "Naples",
    "North Africa",
    "North Atlantic Ocean",
    "North Sea",
    "Norway",
    "Norwegian Sea",
    "Paris",
    "Picardy",
    "Piedmont",
    "Portugal",
    "Prussia",
    "Rome",
    "Ruhr",
    "Rumania",
    "Serbia",
    "Sevastopol",
    "Silesia",
    "Skagerrack",
    "Smyrna",
    "Spain (North Coast)",
    "Spain (South Coast)",
    "Spain",
    "St. Petersburg (North Coast)",
    "St. Petersburg (South Coast)",
    "St. Petersburg",
    "Sweden",
    "Syria",
    "Trieste",
    "Tunis",
    "Tuscany",
    "Tyrolia",
    "Tyrrhenian Sea",
    "Ukraine",
    "Venice",
    "Vienna",
    "Wales",
    "Warsaw",
    "Western Mediterranean",
    "Yorkshire",
]

MISSPELLINGS = {
    "SKAGERRACK": "SKAGERRAK",
    "HELIGOLAND BIGHT": "HELGOLAND BIGHT",
    "GULF OF LYONS": "GULF OF LYON",
    "BULGARIA (NORTH COAST)": "BULGARIA (EAST COAST)",
}

# map from full name to short code, e.g. "Trieste" -> "TRI"
FULL_TO_SHORT = {}
for full_name in FULL_NAMES:
    x = full_name.upper().replace(".", "")
    FULL_TO_SHORT[full_name] = MAP.loc_name.get(x) or MAP.loc_name[MISSPELLINGS[x]]


# map of loc short code to {"COAST", "WATER", "LAND"}
LOC_TYPE = {k.upper(): v for k, v in MAP.loc_type.items()}

COUNTRY_ID_TO_POWER = {
    1: "ENGLAND",
    2: "FRANCE",
    3: "ITALY",
    4: "GERMANY",
    5: "AUSTRIA",
    6: "TURKEY",
    7: "RUSSIA",
}

# Created by running:
#
# TERR_ID_TO_LOC = {
#     terr_id: FULL_TO_SHORT[full_name]
#     for (terr_id, full_name) in db.execute("SELECT id, name FROM wD_Territories WHERE mapID=1")
# }
TERR_ID_TO_LOC = {
    1: "CLY",
    2: "EDI",
    3: "LVP",
    4: "YOR",
    5: "WAL",
    6: "LON",
    7: "POR",
    8: "SPA",
    9: "NAF",
    10: "TUN",
    11: "NAP",
    12: "ROM",
    13: "TUS",
    14: "PIE",
    15: "VEN",
    16: "APU",
    17: "GRE",
    18: "ALB",
    19: "SER",
    20: "BUL",
    21: "RUM",
    22: "CON",
    23: "SMY",
    24: "ANK",
    25: "ARM",
    26: "SYR",
    27: "SEV",
    28: "UKR",
    29: "WAR",
    30: "LVN",
    31: "MOS",
    32: "STP",
    33: "FIN",
    34: "SWE",
    35: "NWY",
    36: "DEN",
    37: "KIE",
    38: "BER",
    39: "PRU",
    40: "SIL",
    41: "MUN",
    42: "RUH",
    43: "HOL",
    44: "BEL",
    45: "PIC",
    46: "BRE",
    47: "PAR",
    48: "BUR",
    49: "MAR",
    50: "GAS",
    51: "BAR",
    52: "NWG",
    53: "NTH",
    54: "SKA",
    55: "HEL",
    56: "BAL",
    57: "BOT",
    58: "NAO",
    59: "IRI",
    60: "ENG",
    61: "MAO",
    62: "WES",
    63: "LYO",
    64: "TYS",
    65: "ION",
    66: "ADR",
    67: "AEG",
    68: "EAS",
    69: "BLA",
    70: "TYR",
    71: "BOH",
    72: "VIE",
    73: "TRI",
    74: "BUD",
    75: "GAL",
    76: "SPA/NC",
    77: "SPA/SC",
    78: "STP/NC",
    79: "STP/SC",
    80: "BUL/EC",
    81: "BUL/SC",
}
